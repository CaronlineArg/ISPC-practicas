<div class="main">
  <div class="dashboard-container">
    <h2>Dashboard ADMIN</h2>
    <div class="tab-container">
      <mat-tab-group [(selectedIndex)]="currentTab">
        <mat-tab label="Planes">
          <div *ngIf="planes.length > 0; else noData">
            <table>
              <thead>
                <tr>
                  <th>Nombre del Plan</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let plan of planes">
                  <td>{{ plan.nombre }}</td>
                  <td><button (click)="verPlan(plan)" class="btn">VER</button></td>
                </tr>
              </tbody>
            </table>
            <a routerLink="/crear-plan" class="btn">AGREGAR PLAN</a>
          </div>
          <ng-template #noData>
            <p>No hay datos disponibles</p>
          </ng-template>
        </mat-tab>
        <mat-tab label="Clases">
          <div *ngIf="clases.length > 0; else noData">
            <table>
              <thead>
                <tr>
                  <th>Nombre de la Clase</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let clase of clases">
                  <td>{{ clase.nombre }}</td>
                  <td><button (click)="verClase(clase)" class="btn">Ver Clase</button></td>
                </tr>
              </tbody>
            </table>
            <a routerLink="/crear-clase" class="btn">Agregar Clase</a>
          </div>
          <ng-template #noData>
            <p>No hay datos disponibles</p>
          </ng-template>
        </mat-tab>
        <mat-tab label="Clientes">
          <div *ngIf="clientes.length > 0; else noData">
            <table>
              <thead>
                <tr>
                  <th>Nombre del Cliente</th>
                  <th>Plan</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let cliente of clientes">
                  <td>{{ cliente.nombre + ' ' + cliente.apellido }}</td>
                  <td>{{ cliente.plan ? cliente.plan.nombre : 'Sin plan' }}</td>
                  <td><button (click)="verCliente(cliente)" class="btn">Ver Cliente</button></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </mat-tab>
      <mat-tab [ngClass]="{'selected-tab': currentTab === 4}">
        <ng-template mat-tab-label>Mensajes</ng-template>
        <div *ngIf="mensajes && mensajes.length > 0">
          <table class="table">
            <thead class="thead-light">
              <tr>
                <th>Nombre</th>
                <th>Email</th>
                <th>Mensaje</th>
                <th>Fecha</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let mensaje of mensajes; let i = index">
                <td>{{ mensaje.nombre }}</td>
                <td>{{ mensaje.email }}</td>
                <td>{{ mensaje.mensaje }}</td>
                <td>{{ mensaje.fecha }}</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div *ngIf="mensajes && mensajes.length === 0">No hay mensajes disponibles.</div>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
